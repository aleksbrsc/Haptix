.workflow_editor {
  flex: 1;
  display: flex;
  overflow: hidden;
}

.flow_container {
  flex: 1;
  background-color: var(--canvas_bg);
}

.react_flow_node.selected .node {
  box-shadow: 0 0 0 2px var(--light_50);
}

/* Yellow border for active (listening) nodes */
:global(.react-flow__node.active::before) {
  content: '';
  position: absolute;
  top: -4px;
  left: -4px;
  right: -4px;
  bottom: -4px;
  border: 3px solid #fbbf24 !important;
  border-radius: 10px;
  pointer-events: none;
  animation: pulseYellow 1s ease-in-out infinite;
  z-index: -1;
}

/* Green border for executed nodes */
:global(.react-flow__node.executed::before) {
  content: '';
  position: absolute;
  top: -4px;
  left: -4px;
  right: -4px;
  bottom: -4px;
  border: 3px solid var(--green) !important;
  border-radius: 10px;
  pointer-events: none;
  animation: pulseGreen 1s ease-in-out infinite;
  z-index: -1;
}

@keyframes pulseYellow {
  0%, 100% {
    box-shadow: 0 0 0 0px rgba(251, 191, 36, 0.4);
  }
  50% {
    box-shadow: 0 0 0 8px rgba(251, 191, 36, 0.1);
  }
}

@keyframes pulseGreen {
  0%, 100% {
    box-shadow: 0 0 0 0px rgba(34, 197, 94, 0.4);
  }
  50% {
    box-shadow: 0 0 0 8px rgba(34, 197, 94, 0.1);
  }
}

/* Green handles for executed nodes */
:global(.react-flow__node.executed .react-flow__handle) {
  background-color: var(--green) !important;
  border-color: var(--green) !important;
}

:global(.react-flow__edge-path) {
  stroke: var(--border_color);
  stroke-width: 2;
}

:global(.react-flow__edge.selected .react-flow__edge-path) {
  stroke: var(--light_70);
}

:global(.react-flow__edge.executed .react-flow__edge-path) {
  stroke: var(--green) !important;
  stroke-width: 3 !important;
  animation: edgePulse 1s ease-in-out infinite;
}

@keyframes edgePulse {
  0%, 100% {
    opacity: 1;
  }
  50% {
    opacity: 0.6;
  }
}

:global(.react-flow__handle.active) {
  background-color: var(--green) !important;
  border-color: var(--green) !important;
  box-shadow: 0 0 0 3px rgba(34, 197, 94, 0.3) !important;
}

:global(.react-flow__edge-text) {
  fill: var(--light);
  font-size: 12px;
}

:global(.react-flow__edge-textbg) {
  fill: var(--foreground);
}

:global(.react-flow__handle) {
  width: 10px;
  height: 10px;
  background-color: var(--border_color);
  border: 2px solid var(--border_color);
}

:global(.react-flow__controls) {
  background-color: var(--foreground);
  border: 2px solid var(--border_color);
  border-radius: 8px;
}

:global(.react-flow__controls-button) {
  background-color: var(--foreground);
  border-bottom: 1px solid var(--border_color);
  color: var(--light);
}

:global(.react-flow__controls-button:last-child) {
  border-bottom: none;
}

:global(.react-flow__controls-button:hover) {
  background-color: var(--canvas_bg);
}

:global(.react-flow__minimap) {
  background-color: var(--foreground);
  border: 1px solid var(--border_color);
}

:global(.react-flow__minimap-mask) {
  fill: var(--canvas_bg);
}

:global(.react-flow__minimap-node) {
  fill: var(--border_color);
}

:global(.react-flow__background) {
  background-color: var(--canvas_bg);
}

:global(.react-flow__background-pattern) {
  fill: var(--canvas_dots);
}
